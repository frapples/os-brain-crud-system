<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="shortcut icon" href="/static/assets/favicon.ico" type="image/x-icon"/>
    <title>OS Brain 管理系统</title>
    <vue-import th:replace="commons/base"></vue-import>
    <link rel="stylesheet" type="text/css" href="/static/style/style.css"/>

    <script src="/static/script/network.js"></script>
</head>

<body>
<vue-import th:replace="commons/header"></vue-import>
<vue-import th:replace="commons/siderbar"></vue-import>

<vue-import th:replace="admin/subpages/book"></vue-import>
<vue-import th:replace="admin/subpages/question"></vue-import>
<vue-import th:replace="admin/subpages/task"></vue-import>
<vue-import th:replace="admin/subpages/class"></vue-import>
<vue-import th:replace="admin/subpages/student"></vue-import>
<vue-import th:replace="admin/subpages/about"></vue-import>
<vue-import th:replace="admin/subpages/classRecord"></vue-import>
<vue-import th:replace="admin/subpages/studentRecord"></vue-import>

<vue-import th:replace="admin/components/questionList"></vue-import>

<vue-import th:replace="components/timeLabel"></vue-import>
<vue-import th:replace="components/confirmDialog"></vue-import>
<vue-import th:replace="components/paginationTable"></vue-import>

<div id="app">
    <el-container style="min-height: 100vh">
        <el-header height="70">
            <x-header></x-header>
        </el-header>
        <el-container>
            <el-aside width="220px">
                <x-siderbar @select="onSelect"></x-siderbar>
            </el-aside>
            <el-main>
                <transition name="el-fade-in">
                    <x-admin-subpage-book v-if="selectIndex == 'book'"></x-admin-subpage-book>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-question v-if="selectIndex == 'question'"></x-admin-subpage-book>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-task v-if="selectIndex == 'task'"></x-admin-subpage-task>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-class v-if="selectIndex == 'class'"></x-admin-subpage-class>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-student v-if="selectIndex == 'student'"></x-admin-subpage-student>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-about v-if="selectIndex == 'about'"></x-admin-subpage-about>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-class-record v-if="selectIndex == 'classRecord'"></x-admin-subpage-class-record>
                </transition>

                <transition name="el-fade-in">
                    <x-admin-subpage-student-record v-if="selectIndex == 'studentRecord'"></x-admin-subpage-student-record>
                </transition>

            </el-main>
        </el-container>
    </el-container>
</div>
<script>
    new Vue({
        el: "#app",

        data: function () {
            return {
                selectIndex: "about",
            };
        },

        methods:  {
            onSelect: function (index, path) {
                console.log(index);
                this.$emit("select", index, path);
                this.selectIndex = index;
            },

        },
    });

</script>
</body>
</html>
